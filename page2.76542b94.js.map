{"mappings":"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","sources":["<anon>","src/js/settings.js"],"sourcesContent":["var $6b5c49adb5e3a268$exports = {};\nconst $6b5c49adb5e3a268$var$catalogContainer = document.querySelector('.catalog-cntr');\nconst $6b5c49adb5e3a268$var$API_BASE_URL = 'https://tech-showcase-store.onrender.com/api';\nasync function $6b5c49adb5e3a268$var$fetchProducts() {\n    try {\n        const response = await fetch('${API_BASE_URL}/products');\n        if (!response.ok) throw new Error(`Error HTTP: ${response.status}`);\n        const products = await response.json();\n        $6b5c49adb5e3a268$var$renderProducts(products);\n    } catch (error) {\n        console.error('Error loading product list:', error);\n    }\n}\nfunction $6b5c49adb5e3a268$var$addToCart(product) {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const existingProductIndex = cart.findIndex((item)=>item._id === product._id);\n    if (existingProductIndex >= 0) cart[existingProductIndex].quantity += 1;\n    else cart.push({\n        ...product,\n        quantity: 1\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n    $6b5c49adb5e3a268$var$updateCartCounter();\n}\nfunction $6b5c49adb5e3a268$var$updateCartCounter() {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    let totalItems = cart.reduce((sum, item)=>sum + item.quantity, 0);\n    const cartCounter = document.querySelector('.icon__quantity');\n    if (cartCounter) cartCounter.textContent = totalItems;\n}\nfunction $6b5c49adb5e3a268$var$renderProducts(products) {\n    const catalogContainer = document.querySelector('.catalog-cntr');\n    if (!catalogContainer) {\n        console.error('Error: container .catalog-cntr not found');\n        return;\n    }\n    console.log('RENDER');\n    catalogContainer.innerHTML = '';\n    products.forEach((product)=>{\n        const productHTML = `\n      <article class=\"product\">\n        ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n        <div class=\"product__top\">\n          <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n               alt=\"${product.name}\"\n               class=\"product__image\">\n        </div>\n        <h2 class=\"product__title\">\n          <a href=\"product.html?id=${product._id}\" class=\"product-link\">\n            ${product.name}\n          </a>\n        </h2>\n        <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n        <p class=\"product__price\">\n          <span class=\"product__price-name\">Price:</span>\n          <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n        </p>\n        <button class=\"product__button buy-btn\" data-product-id=\"${product._id}\">Buy</button>\n      </article>`;\n        catalogContainer.insertAdjacentHTML('beforeend', productHTML);\n    });\n    console.log('RENDER2');\n    console.log('add to buy button');\n    document.querySelectorAll('.buy-btn').forEach((button)=>{\n        button.addEventListener('click', async function() {\n            const productId = this.getAttribute('data-product-id');\n            console.log('Product id', productId);\n            try {\n                const response = await fetch(`${$6b5c49adb5e3a268$var$API_BASE_URL}/products/${productId}`);\n                const productData = await response.json();\n                if (!response.ok) throw new Error('Product not found');\n                $6b5c49adb5e3a268$var$addToCart(productData);\n            } catch (error) {\n                console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u0442\\u043E\\u0432\\u0430\\u0440\\u0435:\", error);\n            }\n        });\n    });\n    $6b5c49adb5e3a268$var$updateCartCounter();\n}\ndocument.addEventListener('DOMContentLoaded', $6b5c49adb5e3a268$var$fetchProducts);\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    const menuLinks = document.querySelectorAll(\".menu__nav .nav__link\");\n    const productList = document.querySelector(\".catalog-cntr\");\n    menuLinks.forEach((link)=>{\n        link.addEventListener(\"click\", async (event)=>{\n            event.preventDefault();\n            const category = link.dataset.category;\n            try {\n                const response = await fetch(`${$6b5c49adb5e3a268$var$API_BASE_URL}/products/filter?type=${category}`);\n                const products = await response.json();\n                productList.innerHTML = \"\";\n                products.forEach((product)=>{\n                    const productHTML = `\n            <article class=\"product\">\n              ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                <div class=\"product__top\">\n                  <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                        alt=\"${product.name}\"\n                        class=\"product__image\">\n                </div>\n                <h2 class=\"product__title\">\n                  <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                    ${product.name}\n                  </a>\n                </h2>\n                <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                <p class=\"product__price\">\n                  <span class=\"product__price-name\">Price:</span>\n                  <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                </p>\n                <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n            </article>`;\n                    productList.insertAdjacentHTML(\"beforeend\", productHTML);\n                });\n            } catch (error) {\n                console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432:\", error);\n            }\n        });\n    });\n});\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    try {\n        const filterItems = document.querySelectorAll(\".catalog-filter__items .custom-checkbox__input\");\n        const productList = document.querySelector(\".catalog-cntr\");\n        if (!productList) {\n            console.error(\"\\u042D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442 .catalog-cntr \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D!\");\n            return;\n        }\n        const getSelectedFilters = ()=>{\n            const filters = [];\n            filterItems.forEach((item)=>{\n                if (item.checked) {\n                    const subCategory = item.closest(\".custom-checkbox\").dataset.text;\n                    filters.push(subCategory);\n                }\n            });\n            return filters;\n        };\n        const updateProductList = async ()=>{\n            const selectedFilters = getSelectedFilters();\n            try {\n                const query = selectedFilters.length ? `?subCategory=${selectedFilters.join(\",\")}` : \"\";\n                const response = await fetch(`${$6b5c49adb5e3a268$var$API_BASE_URL}/products/filter${query}`);\n                const products = await response.json();\n                productList.innerHTML = \"\";\n                products.forEach((product)=>{\n                    const productHTML = `\n              <article class=\"product\">\n                ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                  <div class=\"product__top\">\n                    <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                          alt=\"${product.name}\"\n                          class=\"product__image\">\n                  </div>\n                  <h2 class=\"product__title\">\n                    <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                      ${product.name}\n                    </a>\n                  </h2>\n                  <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                  <p class=\"product__price\">\n                    <span class=\"product__price-name\">Price:</span>\n                    <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                  </p>\n                  <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n              </article>`;\n                    productList.insertAdjacentHTML(\"beforeend\", productHTML);\n                });\n            } catch (error) {\n                console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432:\", error);\n            }\n        };\n        filterItems.forEach((checkbox)=>{\n            checkbox.addEventListener(\"change\", updateProductList);\n        });\n        updateProductList();\n    } catch (error) {\n        console.log(error);\n    }\n});\ndocument.addEventListener('DOMContentLoaded', ()=>{\n    const colorFilter = document.getElementById('color-filter');\n    const productContainer = document.querySelector('.catalog-cntr');\n    if (!colorFilter || !productContainer) {\n        console.error('\\u042D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442 \\u0441 ID \"color-filter\" \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D');\n        return;\n    }\n    colorFilter.addEventListener('change', async (event)=>{\n        if (event.target.classList.contains('custom-checkbox__input')) {\n            const selectedColors = Array.from(colorFilter.querySelectorAll('input:checked')).map((checkbox)=>checkbox.closest('label').dataset.text);\n            try {\n                const response = await fetch(`${$6b5c49adb5e3a268$var$API_BASE_URL}/products/filter?color=${selectedColors.join(',')}`);\n                const products = await response.json();\n                updateProducts(products);\n            } catch (error) {\n                console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438:\", error);\n            }\n        }\n    });\n    function updateProducts(products) {\n        productContainer.innerHTML = '';\n        products.forEach((product)=>{\n            const productElement = `\n        <article class=\"product\">\n          ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n          <div class=\"product__top\">\n            <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                 alt=\"${product.name}\"\n                 class=\"product__image\">\n          </div>\n          <h2 class=\"product__title\">\n            <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n              ${product.name}\n            </a>\n          </h2>\n          <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n          <p class=\"product__price\">\n            <span class=\"product__price-name\">Price:</span>\n            <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n          </p>\n          <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n        </article>`;\n            productContainer.insertAdjacentHTML('beforeend', productElement);\n        });\n    }\n});\nasync function $6b5c49adb5e3a268$var$fetchRelatedProducts() {\n    try {\n        const response = await fetch('${API_BASE_URL}/products/related-products');\n        const products = await response.json();\n        $6b5c49adb5e3a268$var$updateProductList(products);\n    } catch (error) {\n        console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\u0445:\", error);\n    }\n}\nfunction $6b5c49adb5e3a268$var$updateProductList(products) {\n    const relatedContainer = document.querySelector('.card-related__content');\n    relatedContainer.innerHTML = '';\n    products.forEach((product)=>{\n        const productCard = createProductCard(product);\n        relatedContainer.appendChild(productCard);\n    });\n}\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    const buyButtons = document.querySelectorAll(\".product__buy-btn\");\n    buyButtons.forEach((button)=>{\n        button.addEventListener(\"click\", async (event)=>{\n            const productId = event.target.getAttribute(\"data-product-id\");\n            try {\n                const response = await fetch(\"${API_BASE_URL}/cart/add\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        productId: productId\n                    })\n                });\n                if (!response.ok) throw new Error(\"Error adding product to cart\");\n                updateCartUI();\n            } catch (error) {\n                console.error(\"Error adding to cart:\", error);\n            }\n        });\n    });\n    async function updateCartUI() {\n        try {\n            const response = await fetch(\"${API_BASE_URL}/cart\");\n            const cartItems = await response.json();\n            const cartContainer = document.querySelector(\".cart__items\");\n            cartContainer.innerHTML = \"\";\n            cartItems.forEach((item)=>{\n                const cartItem = document.createElement(\"div\");\n                cartItem.classList.add(\"cart__item\");\n                cartItem.innerHTML = `\n          <img src=\"${item.product.picture || 'default.jpg'}\" class=\"cart__image\">\n          <div class=\"cart__details\">\n            <h2 class=\"cart__name\">${item.product.name}</h2>\n            <p class=\"cart__price\">$${item.product.price}</p>\n            <div class=\"cart__quantity\">\n              <button class=\"cart__btn cart__btn--decrease\" data-id=\"${item.product._id}\">-</button>\n              <span class=\"cart__quantity-value\">${item.quantity}</span>\n              <button class=\"cart__btn cart__btn--increase\" data-id=\"${item.product._id}\">+</button>\n            </div>\n          </div>\n        `;\n                cartContainer.appendChild(cartItem);\n            });\n            const totalValue = cartItems.reduce((total, item)=>total + item.product.price * item.quantity, 0);\n            document.querySelector(\".cart__total-value\").textContent = `$${totalValue.toFixed(2)}`;\n        } catch (error) {\n            console.error(\"Error updating cart:\", error);\n        }\n    }\n});\n\n\n//# sourceMappingURL=page2.76542b94.js.map\n","const catalogContainer = document.querySelector('.catalog-cntr');\n\nconst API_BASE_URL = 'https://tech-showcase-store.onrender.com/api';\n\nasync function fetchProducts() {\n  try {\n    const response = await fetch('${API_BASE_URL}/products');\n    if (!response.ok) {\n      throw new Error(`Error HTTP: ${response.status}`);\n    }\n    const products = await response.json();\n    renderProducts(products);\n  } catch (error) {\n    console.error('Error loading product list:', error);\n  }\n}\n\nfunction addToCart(product) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  const existingProductIndex = cart.findIndex(item => item._id === product._id);\n\n  if (existingProductIndex >= 0) {\n    cart[existingProductIndex].quantity += 1;\n  } else {\n    cart.push({ ...product, quantity: 1 });\n  }\n\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCounter();\n}\n\nfunction updateCartCounter() {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  const cartCounter = document.querySelector('.icon__quantity');\n  if (cartCounter) {\n    cartCounter.textContent = totalItems;\n  }\n}\n\nfunction renderProducts(products) {\n  const catalogContainer = document.querySelector('.catalog-cntr');\n  if (!catalogContainer) {\n    console.error('Error: container .catalog-cntr not found');\n    return;\n  }\n  console.log('RENDER')\n\n  catalogContainer.innerHTML = '';\n\n  products.forEach((product) => {\n    const productHTML = `\n      <article class=\"product\">\n        ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n        <div class=\"product__top\">\n          <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n               alt=\"${product.name}\"\n               class=\"product__image\">\n        </div>\n        <h2 class=\"product__title\">\n          <a href=\"product.html?id=${product._id}\" class=\"product-link\">\n            ${product.name}\n          </a>\n        </h2>\n        <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n        <p class=\"product__price\">\n          <span class=\"product__price-name\">Price:</span>\n          <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n        </p>\n        <button class=\"product__button buy-btn\" data-product-id=\"${product._id}\">Buy</button>\n      </article>`;\n\n    catalogContainer.insertAdjacentHTML('beforeend', productHTML);\n  });\n\n  console.log('RENDER2')\n\n  console.log('add to buy button')\n\n  document.querySelectorAll('.buy-btn').forEach(button => {\n    button.addEventListener('click', async function () {\n      const productId = this.getAttribute('data-product-id');\n      console.log('Product id', productId)\n      try {\n        const response = await fetch(`${API_BASE_URL}/products/${productId}`);\n        const productData = await response.json();\n\n        if (!response.ok) {\n          throw new Error('Product not found');\n        }\n\n        addToCart(productData);\n      } catch (error) {\n        console.error('Ошибка при загрузке данных о товаре:', error);\n      }\n    });\n  });\n\n  updateCartCounter();\n}\n\n\ndocument.addEventListener('DOMContentLoaded', fetchProducts);\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const menuLinks = document.querySelectorAll(\".menu__nav .nav__link\");\n  const productList = document.querySelector(\".catalog-cntr\");\n\n  menuLinks.forEach((link) => {\n    link.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      const category = link.dataset.category;\n\n      try {\n\n        const response = await fetch(`${API_BASE_URL}/products/filter?type=${category}`);\n        const products = await response.json();\n\n\n        productList.innerHTML = \"\";\n\n\n        products.forEach((product) => {\n          const productHTML = `\n            <article class=\"product\">\n              ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                <div class=\"product__top\">\n                  <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                        alt=\"${product.name}\"\n                        class=\"product__image\">\n                </div>\n                <h2 class=\"product__title\">\n                  <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                    ${product.name}\n                  </a>\n                </h2>\n                <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                <p class=\"product__price\">\n                  <span class=\"product__price-name\">Price:</span>\n                  <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                </p>\n                <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n            </article>`;\n          productList.insertAdjacentHTML(\"beforeend\", productHTML);\n        });\n      } catch (error) {\n        console.error(\"Ошибка при загрузке товаров:\", error);\n      }\n    });\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  try {\n    const filterItems = document.querySelectorAll(\".catalog-filter__items .custom-checkbox__input\");\n    const productList = document.querySelector(\".catalog-cntr\");\n\n    if (!productList) {\n      console.error('Элемент .catalog-cntr не найден!');\n      return;\n    }\n\n\n    const getSelectedFilters = () => {\n      const filters = [];\n      filterItems.forEach((item) => {\n        if (item.checked) {\n          const subCategory = item.closest(\".custom-checkbox\").dataset.text;\n          filters.push(subCategory);\n        }\n      });\n      return filters;\n    };\n\n\n    const updateProductList = async () => {\n      const selectedFilters = getSelectedFilters();\n\n      try {\n        const query = selectedFilters.length\n          ? `?subCategory=${selectedFilters.join(\",\")}`\n          : \"\";\n        const response = await fetch(`${API_BASE_URL}/products/filter${query}`);\n        const products = await response.json();\n\n\n        productList.innerHTML = \"\";\n\n        products.forEach((product) => {\n          const productHTML = `\n              <article class=\"product\">\n                ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                  <div class=\"product__top\">\n                    <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                          alt=\"${product.name}\"\n                          class=\"product__image\">\n                  </div>\n                  <h2 class=\"product__title\">\n                    <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                      ${product.name}\n                    </a>\n                  </h2>\n                  <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                  <p class=\"product__price\">\n                    <span class=\"product__price-name\">Price:</span>\n                    <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                  </p>\n                  <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n              </article>`;\n          productList.insertAdjacentHTML(\"beforeend\", productHTML);\n        });\n      } catch (error) {\n        console.error(\"Ошибка при загрузке товаров:\", error);\n      }\n    };\n\n\n    filterItems.forEach((checkbox) => {\n      checkbox.addEventListener(\"change\", updateProductList);\n    });\n\n\n    updateProductList();\n  } catch (error) {\n    console.log(error)\n  }\n});\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const colorFilter = document.getElementById('color-filter');\n  const productContainer = document.querySelector('.catalog-cntr');\n\n  if (!colorFilter || !productContainer) {\n    console.error('Элемент с ID \"color-filter\" не найден');\n    return;\n  }\n\n  colorFilter.addEventListener('change', async (event) => {\n    if (event.target.classList.contains('custom-checkbox__input')) {\n      const selectedColors = Array.from(\n        colorFilter.querySelectorAll('input:checked')\n      ).map((checkbox) => checkbox.closest('label').dataset.text);\n\n      try {\n        const response = await fetch(`${API_BASE_URL}/products/filter?color=${selectedColors.join(',')}`);\n        const products = await response.json();\n        updateProducts(products);\n      } catch (error) {\n        console.error('Ошибка при фильтрации:', error);\n      }\n    }\n  });\n\n  function updateProducts(products) {\n    productContainer.innerHTML = '';\n    products.forEach((product) => {\n      const productElement = `\n        <article class=\"product\">\n          ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n          <div class=\"product__top\">\n            <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                 alt=\"${product.name}\"\n                 class=\"product__image\">\n          </div>\n          <h2 class=\"product__title\">\n            <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n              ${product.name}\n            </a>\n          </h2>\n          <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n          <p class=\"product__price\">\n            <span class=\"product__price-name\">Price:</span>\n            <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n          </p>\n          <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n        </article>`;\n      productContainer.insertAdjacentHTML('beforeend', productElement);\n    });\n  }\n});\n\n\n\nasync function fetchRelatedProducts() {\n  try {\n    const response = await fetch('${API_BASE_URL}/products/related-products');\n    const products = await response.json();\n\n    updateProductList(products);\n  } catch (error) {\n    console.error('Ошибка при загрузке данных о товарах:', error);\n  }\n}\n\nfunction updateProductList(products) {\n  const relatedContainer = document.querySelector('.card-related__content');\n  relatedContainer.innerHTML = '';\n\n  products.forEach(product => {\n    const productCard = createProductCard(product);\n    relatedContainer.appendChild(productCard);\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const buyButtons = document.querySelectorAll(\".product__buy-btn\");\n\n  buyButtons.forEach((button) => {\n    button.addEventListener(\"click\", async (event) => {\n      const productId = event.target.getAttribute(\"data-product-id\");\n\n      try {\n        const response = await fetch(\"${API_BASE_URL}/cart/add\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ productId }),\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Error adding product to cart\");\n        }\n\n        updateCartUI();\n      } catch (error) {\n        console.error(\"Error adding to cart:\", error);\n      }\n    });\n  });\n\n  async function updateCartUI() {\n    try {\n      const response = await fetch(\"${API_BASE_URL}/cart\");\n      const cartItems = await response.json();\n\n      const cartContainer = document.querySelector(\".cart__items\");\n      cartContainer.innerHTML = \"\";\n\n      cartItems.forEach((item) => {\n        const cartItem = document.createElement(\"div\");\n        cartItem.classList.add(\"cart__item\");\n        cartItem.innerHTML = `\n          <img src=\"${item.product.picture || 'default.jpg'}\" class=\"cart__image\">\n          <div class=\"cart__details\">\n            <h2 class=\"cart__name\">${item.product.name}</h2>\n            <p class=\"cart__price\">$${item.product.price}</p>\n            <div class=\"cart__quantity\">\n              <button class=\"cart__btn cart__btn--decrease\" data-id=\"${item.product._id}\">-</button>\n              <span class=\"cart__quantity-value\">${item.quantity}</span>\n              <button class=\"cart__btn cart__btn--increase\" data-id=\"${item.product._id}\">+</button>\n            </div>\n          </div>\n        `;\n        cartContainer.appendChild(cartItem);\n      });\n\n      const totalValue = cartItems.reduce((total, item) => total + item.product.price * item.quantity, 0);\n      document.querySelector(\".cart__total-value\").textContent = `$${totalValue.toFixed(2)}`;\n    } catch (error) {\n      console.error(\"Error updating cart:\", error);\n    }\n  }\n});\n"],"names":["document","querySelector","$6b5c49adb5e3a268$var$API_BASE_URL","$6b5c49adb5e3a268$var$fetchProducts","response","fetch","ok","Error","status","products","json","$6b5c49adb5e3a268$var$renderProducts","catalogContainer","console","error","log","innerHTML","forEach","product","productHTML","type","picture","name","_id","price","insertAdjacentHTML","querySelectorAll","button","addEventListener","productId","getAttribute","productData","cart","JSON","parse","localStorage","getItem","existingProductIndex","findIndex","item","quantity","push","setItem","stringify","$6b5c49adb5e3a268$var$updateCartCounter","totalItems","reduce","sum","cartCounter","textContent","menuLinks","productList","link","event","preventDefault","category","dataset","filterItems","updateProductList","selectedFilters","getSelectedFilters","filters","checked","subCategory","closest","text","query","length","join","checkbox","colorFilter","getElementById","productContainer","target","classList","contains","selectedColors","Array","from","map","productElement","buyButtons","method","headers","body","updateCartUI","cartItems","cartContainer","cartItem","createElement","add","appendChild","totalValue","total","toFixed"],"version":3,"file":"page2.76542b94.js.map"}