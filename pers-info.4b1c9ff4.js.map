{"mappings":"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","sources":["src/js/settings.js"],"sourcesContent":["const catalogContainer = document.querySelector('.catalog-cntr');\n\nconst API_BASE_URL = 'https://tech-showcase-store.onrender.com/api';\n\nasync function fetchProducts() {\n  try {\n    const response = await fetch('${API_BASE_URL}/products');\n    if (!response.ok) {\n      throw new Error(`Error HTTP: ${response.status}`);\n    }\n    const products = await response.json();\n    renderProducts(products);\n  } catch (error) {\n    console.error('Error loading product list:', error);\n  }\n}\n\nfunction addToCart(product) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n  const existingProductIndex = cart.findIndex(item => item._id === product._id);\n\n  if (existingProductIndex >= 0) {\n    cart[existingProductIndex].quantity += 1;\n  } else {\n    cart.push({ ...product, quantity: 1 });\n  }\n\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCounter();\n}\n\nfunction updateCartCounter() {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n  const cartCounter = document.querySelector('.icon__quantity');\n  if (cartCounter) {\n    cartCounter.textContent = totalItems;\n  }\n}\n\nfunction renderProducts(products) {\n  const catalogContainer = document.querySelector('.catalog-cntr');\n  if (!catalogContainer) {\n    console.error('Error: container .catalog-cntr not found');\n    return;\n  }\n  console.log('RENDER')\n\n  catalogContainer.innerHTML = '';\n\n  products.forEach((product) => {\n    const productHTML = `\n      <article class=\"product\">\n        ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n        <div class=\"product__top\">\n          <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n               alt=\"${product.name}\"\n               class=\"product__image\">\n        </div>\n        <h2 class=\"product__title\">\n          <a href=\"product.html?id=${product._id}\" class=\"product-link\">\n            ${product.name}\n          </a>\n        </h2>\n        <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n        <p class=\"product__price\">\n          <span class=\"product__price-name\">Price:</span>\n          <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n        </p>\n        <button class=\"product__button buy-btn\" data-product-id=\"${product._id}\">Buy</button>\n      </article>`;\n\n    catalogContainer.insertAdjacentHTML('beforeend', productHTML);\n  });\n\n  console.log('RENDER2')\n\n  console.log('add to buy button')\n\n  document.querySelectorAll('.buy-btn').forEach(button => {\n    button.addEventListener('click', async function () {\n      const productId = this.getAttribute('data-product-id');\n      console.log('Product id', productId)\n      try {\n        const response = await fetch(`${API_BASE_URL}/products/${productId}`);\n        const productData = await response.json();\n\n        if (!response.ok) {\n          throw new Error('Product not found');\n        }\n\n        addToCart(productData);\n      } catch (error) {\n        console.error('Ошибка при загрузке данных о товаре:', error);\n      }\n    });\n  });\n\n  updateCartCounter();\n}\n\n\ndocument.addEventListener('DOMContentLoaded', fetchProducts);\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const menuLinks = document.querySelectorAll(\".menu__nav .nav__link\");\n  const productList = document.querySelector(\".catalog-cntr\");\n\n  menuLinks.forEach((link) => {\n    link.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      const category = link.dataset.category;\n\n      try {\n\n        const response = await fetch(`${API_BASE_URL}/products/filter?type=${category}`);\n        const products = await response.json();\n\n\n        productList.innerHTML = \"\";\n\n\n        products.forEach((product) => {\n          const productHTML = `\n            <article class=\"product\">\n              ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                <div class=\"product__top\">\n                  <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                        alt=\"${product.name}\"\n                        class=\"product__image\">\n                </div>\n                <h2 class=\"product__title\">\n                  <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                    ${product.name}\n                  </a>\n                </h2>\n                <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                <p class=\"product__price\">\n                  <span class=\"product__price-name\">Price:</span>\n                  <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                </p>\n                <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n            </article>`;\n          productList.insertAdjacentHTML(\"beforeend\", productHTML);\n        });\n      } catch (error) {\n        console.error(\"Ошибка при загрузке товаров:\", error);\n      }\n    });\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  try {\n    const filterItems = document.querySelectorAll(\".catalog-filter__items .custom-checkbox__input\");\n    const productList = document.querySelector(\".catalog-cntr\");\n\n    if (!productList) {\n      console.error('Элемент .catalog-cntr не найден!');\n      return;\n    }\n\n\n    const getSelectedFilters = () => {\n      const filters = [];\n      filterItems.forEach((item) => {\n        if (item.checked) {\n          const subCategory = item.closest(\".custom-checkbox\").dataset.text;\n          filters.push(subCategory);\n        }\n      });\n      return filters;\n    };\n\n\n    const updateProductList = async () => {\n      const selectedFilters = getSelectedFilters();\n\n      try {\n        const query = selectedFilters.length\n          ? `?subCategory=${selectedFilters.join(\",\")}`\n          : \"\";\n        const response = await fetch(`${API_BASE_URL}/products/filter${query}`);\n        const products = await response.json();\n\n\n        productList.innerHTML = \"\";\n\n        products.forEach((product) => {\n          const productHTML = `\n              <article class=\"product\">\n                ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n                  <div class=\"product__top\">\n                    <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                          alt=\"${product.name}\"\n                          class=\"product__image\">\n                  </div>\n                  <h2 class=\"product__title\">\n                    <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n                      ${product.name}\n                    </a>\n                  </h2>\n                  <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n                  <p class=\"product__price\">\n                    <span class=\"product__price-name\">Price:</span>\n                    <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n                  </p>\n                  <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n              </article>`;\n          productList.insertAdjacentHTML(\"beforeend\", productHTML);\n        });\n      } catch (error) {\n        console.error(\"Ошибка при загрузке товаров:\", error);\n      }\n    };\n\n\n    filterItems.forEach((checkbox) => {\n      checkbox.addEventListener(\"change\", updateProductList);\n    });\n\n\n    updateProductList();\n  } catch (error) {\n    console.log(error)\n  }\n});\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const colorFilter = document.getElementById('color-filter');\n  const productContainer = document.querySelector('.catalog-cntr');\n\n  if (!colorFilter || !productContainer) {\n    console.error('Элемент с ID \"color-filter\" не найден');\n    return;\n  }\n\n  colorFilter.addEventListener('change', async (event) => {\n    if (event.target.classList.contains('custom-checkbox__input')) {\n      const selectedColors = Array.from(\n        colorFilter.querySelectorAll('input:checked')\n      ).map((checkbox) => checkbox.closest('label').dataset.text);\n\n      try {\n        const response = await fetch(`${API_BASE_URL}/products/filter?color=${selectedColors.join(',')}`);\n        const products = await response.json();\n        updateProducts(products);\n      } catch (error) {\n        console.error('Ошибка при фильтрации:', error);\n      }\n    }\n  });\n\n  function updateProducts(products) {\n    productContainer.innerHTML = '';\n    products.forEach((product) => {\n      const productElement = `\n        <article class=\"product\">\n          ${product.type === 'new' ? '<span class=\"product-prop product__prop new\">New</span>' : ''}\n          <div class=\"product__top\">\n            <img src=\"${product.picture ? `data:image/jpeg;base64,${product.picture}` : 'placeholder.jpg'}\"\n                 alt=\"${product.name}\"\n                 class=\"product__image\">\n          </div>\n          <h2 class=\"product__title\">\n            <a href=\"product.html?id=${product._id}\" class=\"product-link\" data-id=\"${product._id}\">\n              ${product.name}\n            </a>\n          </h2>\n          <p class=\"product__code\">Product code: ${product._id || 'N/A'}</p>\n          <p class=\"product__price\">\n            <span class=\"product__price-name\">Price:</span>\n            <span class=\"product__price-value\">$${product.price || '0.00'}</span>\n          </p>\n          <a href=\"#\" class=\"product__button\" data-qa=\"product-hover\">Buy</a>\n        </article>`;\n      productContainer.insertAdjacentHTML('beforeend', productElement);\n    });\n  }\n});\n\n\n\nasync function fetchRelatedProducts() {\n  try {\n    const response = await fetch('${API_BASE_URL}/products/related-products');\n    const products = await response.json();\n\n    updateProductList(products);\n  } catch (error) {\n    console.error('Ошибка при загрузке данных о товарах:', error);\n  }\n}\n\nfunction updateProductList(products) {\n  const relatedContainer = document.querySelector('.card-related__content');\n  relatedContainer.innerHTML = '';\n\n  products.forEach(product => {\n    const productCard = createProductCard(product);\n    relatedContainer.appendChild(productCard);\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const buyButtons = document.querySelectorAll(\".product__buy-btn\");\n\n  buyButtons.forEach((button) => {\n    button.addEventListener(\"click\", async (event) => {\n      const productId = event.target.getAttribute(\"data-product-id\");\n\n      try {\n        const response = await fetch(\"${API_BASE_URL}/cart/add\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ productId }),\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Error adding product to cart\");\n        }\n\n        updateCartUI();\n      } catch (error) {\n        console.error(\"Error adding to cart:\", error);\n      }\n    });\n  });\n\n  async function updateCartUI() {\n    try {\n      const response = await fetch(\"${API_BASE_URL}/cart\");\n      const cartItems = await response.json();\n\n      const cartContainer = document.querySelector(\".cart__items\");\n      cartContainer.innerHTML = \"\";\n\n      cartItems.forEach((item) => {\n        const cartItem = document.createElement(\"div\");\n        cartItem.classList.add(\"cart__item\");\n        cartItem.innerHTML = `\n          <img src=\"${item.product.picture || 'default.jpg'}\" class=\"cart__image\">\n          <div class=\"cart__details\">\n            <h2 class=\"cart__name\">${item.product.name}</h2>\n            <p class=\"cart__price\">$${item.product.price}</p>\n            <div class=\"cart__quantity\">\n              <button class=\"cart__btn cart__btn--decrease\" data-id=\"${item.product._id}\">-</button>\n              <span class=\"cart__quantity-value\">${item.quantity}</span>\n              <button class=\"cart__btn cart__btn--increase\" data-id=\"${item.product._id}\">+</button>\n            </div>\n          </div>\n        `;\n        cartContainer.appendChild(cartItem);\n      });\n\n      const totalValue = cartItems.reduce((total, item) => total + item.product.price * item.quantity, 0);\n      document.querySelector(\".cart__total-value\").textContent = `$${totalValue.toFixed(2)}`;\n    } catch (error) {\n      console.error(\"Error updating cart:\", error);\n    }\n  }\n});\n"],"names":[],"version":3,"file":"pers-info.4b1c9ff4.js.map","sourceRoot":"/__parcel_source_root/"}